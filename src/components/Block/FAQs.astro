---
import ShapeGradient from '@/components/Elements/ShapeGradient.astro';
import AccordionItem from '@/components/Accordion/Item.astro';

interface Props {
  color?: ColorTypes;
  shape?: ShapeTypes;
}

const { color = 'green', shape = 'triangle' } = Astro.props as Props;

const exampleQuestions = [
  {
    id: 'one',
    question:
      'How much does web design and development from Yellowball typically cost?',
    answer: `
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.<p>
    `,
  },
  {
    id: 'two',
    question: 'How long does a web project typically take?',
    answer: `
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.<p>
    `,
  },
  {
    id: 'three',
    question: 'What ongoing support and maintenance do you offer post-launch?',
    answer: `
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.<p>
    `,
  },
  {
    id: 'four',
    question:
      'How do you handle revisions and feedback during the design process?',
    answer: `
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.<p>
    `,
  },
  {
    id: 'five',
    question: 'Who will I be working with?',
    answer: `
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.<p>
    `,
  },
];
---

<script>
  import gsap from 'gsap';
  import { ScrollTrigger } from 'gsap/dist/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  const shapes = document.querySelectorAll(
    '[data-js="block-faqs"]',
  ) as NodeListOf<HTMLElement>;

  shapes.forEach(shape => {
    const icon = shape.querySelector(
      '[data-js-block-faqs-icon]',
    ) as HTMLElement;

    if (icon) {
      const tl = gsap.timeline({
        scrollTrigger: {
          markers: false,
          trigger: icon,
          start: 'top center',
          end: 'top 25%',
          scrub: 1.5,
        },
      });

      tl.from(icon, {
        opacity: 0,
        y: '10%',
        scale: 0.95,
        ease: 'linear',
      });
    }
  });
</script>

<!-- Begin Block: FAQs -->
<div data-js="block-faqs">
  <div class="relative wrapper">
    <h2 class="text-fluid-h2 mb-30 md:mb-120">FAQs</h2>

    {
      exampleQuestions.map(question => (
        <AccordionItem id={question.id} {color}>
          <h3 slot="header">{question.question}</h3>

          <div slot="body" set:html={question.answer} />
        </AccordionItem>
      ))
    }

    <ShapeGradient
      data-js-block-faqs-icon
      {shape}
      {color}
      class="absolute top-0 right-0 translate-x-[40%] -z-2 size-[80vw] md:size-[41.667vw] max-w-[600px] max-h-[600px]"
    />
  </div>
</div>
<!-- End Block: FAQs -->
